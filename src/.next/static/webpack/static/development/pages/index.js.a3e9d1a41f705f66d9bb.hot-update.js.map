{"version":3,"file":"static/webpack/static/development/pages/index.js.a3e9d1a41f705f66d9bb.hot-update.js","sources":["webpack:///../node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js","webpack:///./pages/index.tsx"],"sourcesContent":["import _Object$defineProperty from \"../../core-js/object/define-property\";\nexport default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import { Component } from 'react';\n\ntype State = {\n  result: any;\n};\n\nclass Index extends Component {\n  state: State = {\n    result: null,\n  };\n\n  componentDidMount() {\n    const IPFS = require('ipfs');\n    const OrbitDB = require('orbit-db');\n\n    // OrbitDB uses Pubsub which is an experimental feature\n    // and need to be turned on manually.\n    // Note that these options need to be passed to IPFS in\n    // all examples even if not specified so.\n    const ipfsOptions = {\n      EXPERIMENTAL: {\n        pubsub: true\n      }\n    };\n\n    // Create IPFS instance\n    const ipfs = new IPFS(ipfsOptions);\n\n    ipfs.on('error', (error: Error) => {\n      console.error(error);\n    });\n\n    ipfs.on('ready', async () => {\n      const orbitdb = await OrbitDB.createInstance(ipfs);\n\n      // Create / Open a database\n      const db = await orbitdb.log('hello')\n      await db.load()\n\n      // Listen for updates from peers\n      db.events.on('replicated', () => {\n        console.log(db.iterator({ limit: -1 }).collect())\n      })\n\n      // Add an entry\n      const hash = await db.add('world')\n      console.log(hash)\n\n      // Query\n      const result = db.iterator({ limit: -1 }).collect()\n\n      this.setState({ result });\n    });\n  }\n\n  render() {\n    const { result } = this.state;\n\n    return (\n      <pre>{JSON.stringify(result, null, 2)}</pre>\n    );\n  }\n}\n\nexport default Index;\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdA;AACA;AAKA;;;;;;;;;;;;;;;;;;AACA;AACA;AADA;AACA;;;;;;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AADA;AADA;AACA;AAMA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAIA;AAJA;AAAA;AACA;AADA;AAOA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAXA;AAAA;AACA;AADA;AAaA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBA;;;AAEA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;;;;AAvDA;AACA;AAyDA;;;;A","sourceRoot":""}